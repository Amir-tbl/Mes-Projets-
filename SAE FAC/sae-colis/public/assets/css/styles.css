/* ===================== Th√®me & base ===================== */
:root{
  --navy:#1E2A52; --taupe:#B79D89; --pale:#E7ECF7; --bg:#F5F4F2; --ink:#2A2E3A; --accent:#3A6CF0;
  --badge-blue:#2F80ED; --badge-green:#2BAE66; --badge-grey:#A0A7B8; --badge-red:#E5484D;
  --card-radius:16px; --shadow:0 6px 18px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
html,body{height:100%; overflow-x:hidden}
body{
  margin:0; font-family:'Inter',system-ui,Segoe UI,Roboto,Arial,sans-serif; color:var(--ink);
  background:#E8EBF3 linear-gradient(180deg,#E9EEF9 0%,#ECEEF6 40%,#F3F2F0 100%);
}


/* ===================== Layout ===================== */
.app{display:grid; grid-template-columns:260px 1fr; min-height:100vh; overflow-x:hidden}
.content, .kpis, .history, .topbar{max-width:100%}
.content>*{min-width:0}


/* ===================== Sidebar ===================== */
.sidebar{background:var(--navy); color:#fff; padding:22px 18px; position:relative}
.logoBox{height:62px; display:flex; align-items:center; padding:4px 8px}


/* Placeholder logo si pas d‚Äôimage */
.logoWordmark{display:block; width:185px; height:40px; background:rgba(255,255,255,.08); border-radius:8px}
/* Si vous mettez un <img class="logoImg">, il prendra ces styles : */
.logoImg{max-width:185px; height:auto; display:block}


.nav{margin-top:26px; display:flex; flex-direction:column; gap:6px}
.nav a{
  display:flex; align-items:center; gap:12px; padding:12px 14px; border-radius:12px;
  color:#e6e8ef; text-decoration:none; font-weight:600; letter-spacing:.2px;
}
.nav a.active{background:#CFB8A7; color:#1E2233}
.nav a .icon{
  width:22px; height:22px; display:inline-flex; align-items:center; justify-content:center;
  border-radius:6px; background:rgba(255,255,255,.14); color:#fff; font-size:14px; line-height:1;
}


/* Slot pour la recherche (visible en mobile quand d√©plac√©e) */
.navSearchSlot{display:none; padding:12px 10px 0}


/* ===================== Topbar ===================== */
.topbar {
  position: sticky;
  top: 0;
  z-index: 5;
  background: var(--navy);
  color: #fff;
  height: 64px;
  display: flex;
  align-items: center;
  gap: 12px;
  justify-content: space-between;
  padding: 0 16px;
  box-shadow: 0 1px 0 rgba(0,0,0,.12);
  border-bottom: 6px solid var(--taupe); /* trait taupe */
}
.topbar .title{
  flex:0 0 auto; margin-right:auto; white-space:nowrap; font-weight:800; letter-spacing:.8px; font-size:20px;
}
.burger{
  display:none; align-items:center; justify-content:center; width:40px; height:40px;
  border-radius:10px; border:1px solid rgba(255,255,255,.2); background:transparent; color:#fff; cursor:pointer;
}
.i-burger{position:relative; display:block; width:18px; height:2px; background:#fff}
.i-burger::before,.i-burger::after{content:""; position:absolute; left:0; width:18px; height:2px; background:#fff}
.i-burger::before{top:-6px} .i-burger::after{top:6px}


/* ===================== Recherche ===================== */
.search{
  display:flex; align-items:center; gap:10px; background:#fff; border-radius:22px; padding:8px 12px;
  min-width:280px; max-width:520px; width:40vw; flex:1 1 auto;
}
.search .search-icon{width:18px; height:18px; opacity:.6; border-radius:50%; background:#E6E9F4; flex:0 0 18px}
.search input{border:0; outline:0; width:100%; min-width:0; font-size:14px}
.search input::placeholder{color:#80879A}


/* ===================== Contenu ===================== */
.content{padding:22px}


/* KPI cards */
.kpis{display:grid; grid-template-columns:repeat(3, 1fr); gap:20px; margin-bottom:20px; width:100%}
.card{
  background:#fff; border-radius:var(--card-radius); box-shadow:var(--shadow);
  padding:20px 22px; border:1px solid rgba(0,0,0,.08);
}
.kpi{display:flex; flex-direction:column; gap:8px}
.kpi .value{font-size:40px; font-weight:700; color:#1C2240}
.kpi .label{font-size:15px; color:#40465A}


/* Historique */
h3{margin:0}
.history{display:grid; grid-template-columns:1fr auto; gap:14px; align-items:center; margin:16px 0 24px; width:100%}
.history .card{grid-column:1 / -1; padding:18px 20px}
.history .meta{color:#666F85; margin-bottom:6px}
.history ul{margin:8px 0 0 0; padding-left:16px; line-height:1.8}
.history a.btn{justify-self:end; margin-top:-52px}


/* Boutons */
.btn{
  background:var(--navy); color:#fff; border:0; border-radius:18px; padding:10px 16px; font-weight:700; font-size:13px;
  cursor:pointer; box-shadow:0 2px 0 rgba(0,0,0,.18); text-decoration:none; display:inline-flex; align-items:center; gap:8px;
}
.btn-ghost{background:#E6E7EA; color:#1E2233; border-radius:8px; padding:8px 14px; font-weight:700; border:1px solid rgba(0,0,0,.12)}


/* ===================== Tableau (g√©n√©rique) ===================== */
.tableWrap{background:transparent; margin-top:6px}
.tableCard{
  background:#B79D89; border-radius:18px; box-shadow:var(--shadow); padding:0; border:1px solid rgba(0,0,0,.08);
  max-width:100%; overflow:auto; -webkit-overflow-scrolling:touch; touch-action:pan-x; overscroll-behavior-x:contain;
}
.tableCard table{
  width:max(100%, 720px); /* au moins 720px, sinon 100% */
  border-collapse:separate; border-spacing:0; table-layout:auto;
}
.tableCard thead{background:rgba(255,255,255,.38)}
.tableCard th,.tableCard td{padding:14px 18px; text-align:left; white-space:nowrap}
.tableCard th{font-size:15px; color:#1C1F2A}
.tableCard tbody tr{background:rgba(255,255,255,.32)}
.tableCard tbody tr:nth-child(odd){background:rgba(255,255,255,.14)}
.tableCard tbody td{font-size:14px}


/* Statuts */
.badge{display:inline-flex; align-items:center; justify-content:center; padding:6px 12px; border-radius:999px; font-weight:700; font-size:12px; color:#fff; min-width:86px}
.b-blue{background:var(--badge-blue)} .b-grey{background:var(--badge-grey)} .b-green{background:var(--badge-green)} .b-red{background:var(--badge-red)}


/* Helpers */
.muted{color:#8A8F9B}


/* ===================== Responsive (g√©n√©ral) ===================== */
/* ‚â§1280 */
@media (max-width:1280px){
  .kpi .value{font-size:36px}
  .tableCard th,.tableCard td{padding:12px 14px}
}


/* ‚â§992 */
@media (max-width:992px){
  .app{grid-template-columns:220px 1fr}
  .history{grid-template-columns:1fr; gap:12px}
  .history a.btn{justify-self:start; margin-top:0}
  .search{min-width:200px; width:50vw}
  .kpis{grid-template-columns:1fr}
}


/* ‚â§768 : burger + sidebar en tiroir + recherche d√©plac√©e */
@media (max-width:768px){
  .app{grid-template-columns:1fr}


  .burger{display:inline-flex}


  .sidebar{
    position:fixed; inset:0 auto 0 0; width:260px; max-width:86vw; z-index:20;
    transform:translateX(-100%); transition:transform .2s ease; box-shadow:2px 0 18px rgba(0,0,0,.18);
  }
  .sidebar.is-open{transform:translateX(0)}
  .overlay{
    position:fixed; inset:0; background:rgba(0,0,0,.38); z-index:15;
    opacity:0; pointer-events:none; transition:opacity .2s ease;
  }
  .overlay.show{opacity:1; pointer-events:auto}


  /* La nav reste en libell√©s complets dans le tiroir */
  .nav a{width:auto; overflow:visible; white-space:normal; justify-content:flex-start}


  /* La recherche passe dans la sidebar, on masque sa version topbar */
  .topbar #topSearch{display:none}
  .navSearchSlot{display:block}
  .sidebar .search{width:100%; min-width:0; max-width:none; padding:8px 10px}


  .topbar .title{font-size:16px; letter-spacing:.4px}
  .search{min-width:0; width:auto}
}


/* ‚â§560 : compact */
@media (max-width:560px){
  .content{padding:16px}
  .topbar .title{display:none}
  .btn{padding:9px 14px; font-size:12px}
  .tableCard th,.tableCard td{padding:12px 14px}
  .kpi .value{font-size:28px}
}


/* ================================================================
   HISTORIQUE ‚Äî Responsive only (scop√© : ne touche PAS le dashboard)
   Ajoute class="page-historique" sur <body> de la page Historique
================================================================ */
.page-historique .filtersCard { margin-bottom: 16px; }


/* Grille de filtres (base desktop) */
.page-historique #filters{
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 12px;
  align-items: end;
}
.page-historique #filters .fblock{ display:flex; flex-direction:column; gap:6px; }
.page-historique #filters label{ font-weight:600; }
.page-historique #filters input[type="date"],
.page-historique #filters input[type="text"],
.page-historique #filters select{ width:100%; }


/* Boutons filtres */
.page-historique #filterActions{ display:flex; gap:8px; flex-wrap:wrap; }
.page-historique #filterActions .btn{ white-space:nowrap; }


/* ===== Table ‚Äî FULL HORIZONTAL SCROLL ENTIER ===== */
.page-historique .table--fullscroll{
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  margin-inline: -16px;            /* full-bleed doux */
  padding-inline: 16px;
}
.page-historique .table--fullscroll .tableCard table{
  min-width: 920px;                /* desktop : large */
}


/* ‚â§ 1024px : 3 colonnes filtres */
@media (max-width:1024px){
  .page-historique #filters{ grid-template-columns: repeat(3, 1fr); }
  .page-historique #filterQuery{ grid-column: 1 / -1; }
  .page-historique #filterActions{ grid-column: 1 / -1; }
}


/* ‚â§ 768px : 2 colonnes filtres + boutons adaptatifs + table plus √©troite */
@media (max-width:768px){
  .page-historique #filters{ grid-template-columns: 1fr 1fr; gap: 10px; }
  .page-historique #filterQuery,
  .page-historique #filterActions{ grid-column: 1 / -1; }


  .page-historique #filterActions .btn{ flex: 1 1 160px; }


  .page-historique .table--fullscroll .tableCard table{ min-width: 720px; }
}


/* ‚â§ 560px : 1 colonne stricte + paddings r√©duits + boutons full-width */
@media (max-width:560px){
  .page-historique .content{ padding: 16px; }
  .page-historique .card{ padding: 14px 12px; }


  .page-historique #filters{
    grid-template-columns: 1fr;
    gap: 8px;
  }
  .page-historique #filters .fblock{ grid-column: 1 / -1; }
  .page-historique #filters label{ font-size: 12px; line-height: 1.2; }
  .page-historique #filters input,
  .page-historique #filters select{ height: 36px; font-size: 14px; padding: 6px 10px; }


  .page-historique #filterActions{
    display: grid; grid-template-columns: 1fr; gap: 8px;
  }
  .page-historique #filterActions .btn{
    width: 100%; height: 40px; font-size: 13px; padding: 10px 12px;
  }


  .page-historique .table--fullscroll .tableCard table{ min-width: 560px; }
  .page-historique .tableCard th,
  .page-historique .tableCard td{ padding: 10px 12px; font-size: 13px; }
}


/* ‚â§ 380px : micro-√©crans */
@media (max-width:380px){
  .page-historique .content{ padding: 12px; }
  .page-historique .card{ padding: 12px 10px; }
  .page-historique #filters{ gap: 6px; }
  .page-historique #filters input,
  .page-historique #filters select{ height: 34px; font-size: 13px; padding: 6px 8px; }
  .page-historique #filterActions .btn{ height: 38px; font-size: 12.5px; }
  .page-historique .table--fullscroll .tableCard table{ min-width: 520px; }
}
/* =========================================================
   HISTORIQUE ‚Äî Filtres compacts (ne s'√©tirent pas en plein)
   Ajoute class="page-historique" sur <body> de la page
========================================================= */


/* 1) Filtres en "petits blocs" qui wrappent, sans prendre 100% */
.page-historique #filters{
   overflow-x: auto !important;         /* le scroll ENTIER est ici */
   overflow-y: hidden;
   -webkit-overflow-scrolling: touch;
   touch-action: pan-x !important;      /* gestures horizontales sur mobile */
   padding-bottom: 6px;                  /* laisse la place √† la barre de scroll */
}


/* Un bloc filtre = largeur compact, jamais pleine ligne */
.page-historique #filters .fblock{
  flex: 0 0 auto !important;
  width: auto !important;
  max-width: 100%;
}


/* Taille des champs : compacte et stable */
.page-historique #filters input[type="date"],
.page-historique #filters input[type="text"],
.page-historique #filters select{
  width: auto !important;          /* <-- plus de 100% */
  min-width: 180px;                /* taille mini agr√©able */
  max-width: 240px;                /* reste petit */
  height: 36px;
  font-size: 16px;                 /* √©vite le zoom iOS */
  padding: 6px 10px;
}


/* Le bloc "Recherche locale" peut √™tre un peu plus large */
.page-historique #filterQuery input{
  min-width: 220px;
  max-width: 320px;
}


/* Groupe boutons : petits boutons c√¥te √† c√¥te, wrap si besoin */
.page-historique #filterActions{
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 8px !important;
  align-items: center;
  flex: 0 0 auto;
}
.page-historique #filterActions .btn{
  flex: 0 0 auto;                  /* garde la taille naturelle */
  height: 36px;
  font-size: 13px;
  padding: 8px 12px;
  white-space: nowrap;
}


/* 2) Micro-ajustements quand l'√©cran est tr√®s √©troit */
@media (max-width: 420px){
  .page-historique #filters input[type="date"],
  .page-historique #filters input[type="text"],
  .page-historique #filters select{
    min-width: 160px;
    max-width: 200px;
  }
  .page-historique #filterQuery input{
    min-width: 180px;
    max-width: 240px;
  }
}


/* 3) Tableau : scroll horizontal ENTIER (conteneur d√©di√©) */
.page-historique .tableWrap{
  overflow-x: auto !important;     /* le scroll est ici */
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 6px;             /* laisse la place √† la barre de scroll */
}


/* La card ne scrolle plus pour √©viter les scrolls imbriqu√©s (iOS) */
.page-historique .tableCard{ overflow: visible !important; }


/* Largeur mini du tableau pour afficher toutes les colonnes -> d√©clenche un scroll clair */
.page-historique .tableCard table{
  min-width: 900px;                /* desktop */
}
@media (max-width: 768px){
  .page-historique .tableCard table{ min-width: 720px; }
}
@media (max-width: 560px){
  .page-historique .tableCard table{ min-width: 560px; }
}
@media (max-width: 380px){
  .page-historique .tableCard table{ min-width: 520px; }
}


/* (Optionnel) Scrollbar visible et fine pour bien signifier le slide */
.page-historique .tableWrap::-webkit-scrollbar{ height:8px }
.page-historique .tableWrap::-webkit-scrollbar-thumb{ background:rgba(0,0,0,.25); border-radius:8px }
.page-historique .tableWrap::-webkit-scrollbar-track{ background:rgba(0,0,0,.08) }

/* =========================================================
   WIZARD ‚Äî √âtape 1 (Cr√©er un envoi)
   (scop√© √† .page-wizard)
========================================================= */
.page-wizard .wizard-steps{
  display:flex; gap:12px; align-items:center; justify-content:space-between;
}
.page-wizard .wizard-steps .step{
  flex:1 1 0; display:flex; align-items:center; gap:10px;
  padding:12px 14px; border-radius:12px; background:#fff; border:1px solid rgba(0,0,0,.08);
}
.page-wizard .wizard-steps .step .step-index{
  width:28px; height:28px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center;
  background:#E6E7EA; color:#1E2233; font-weight:800; font-size:13px;
}
.page-wizard .wizard-steps .step .step-label{ font-weight:700; font-size:14px; color:#1E2233 }
.page-wizard .wizard-steps .step.is-active{
  border-color: var(--taupe);
  box-shadow: var(--shadow);
}
.page-wizard .wizard-steps .step.is-active .step-index{
  background: var(--navy); color:#fff;
}

/* Formulaire */
.page-wizard .wizard-form{ margin-top:16px }
.page-wizard .wizard-form .field-grid{
  display:grid; grid-template-columns: repeat(2, 1fr); gap:14px; border:0; margin:0; padding:0;
}
.page-wizard .wizard-form .fblock{ display:flex; flex-direction:column; gap:6px }
.page-wizard .wizard-form .fblock.wide{ grid-column: 1 / -1 }
.page-wizard .wizard-form label{ font-weight:600 }
.page-wizard .wizard-form input[type="text"],
.page-wizard .wizard-form input[type="date"],
.page-wizard .wizard-form input[type="number"],
.page-wizard .wizard-form select,
.page-wizard .wizard-form textarea{
  width:100%; height:40px; font-size:16px; /* 16px pour √©viter zoom iOS */
  padding:8px 12px; border-radius:12px; border:1px solid rgba(0,0,0,.12); outline:0;
  background:#fff;
}
.page-wizard .wizard-form textarea{ height:auto; resize:vertical; min-height:110px }
.page-wizard .wizard-form .fileRow{ display:flex; align-items:center; gap:10px }
.page-wizard .wizard-actions{
  display:flex; gap:10px; justify-content:flex-end; margin-top:16px; flex-wrap:wrap;
}
.page-wizard .wizard-actions .btn{ height:40px; }

/* Tablettes : grille 2 colonnes conserv√©e, boutons wrap si besoin */
@media (max-width: 992px){
  .page-wizard .wizard-form .field-grid{ grid-template-columns: 1fr 1fr; }
}

/* Mobiles : 1 colonne + paddings compacts */
@media (max-width: 560px){
  .page-wizard .content{ padding:16px }
  .page-wizard .wizard-steps{ flex-direction:column; gap:8px }
  .page-wizard .wizard-steps .step{ width:100% }
  .page-wizard .wizard-form .field-grid{ grid-template-columns: 1fr; gap:10px }
  .page-wizard .wizard-actions{ justify-content:stretch }
  .page-wizard .wizard-actions .btn{ flex:0 0 auto } /* restent petits, pas full width */
}
/* =========================================================
   WIZARD ‚Äî √âtape 2 (Fournisseur & Articles)
========================================================= */

/* S√©curit√© anti-d√©bordement (Grid/Flex) */
.page-wizard .content,
.page-wizard .wizard-form,
.page-wizard .wizard-form * ,
.page-wizard .articlesWrap { min-width: 0; }

/* Stepper */
.page-wizard .wizard-steps{
  display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap;
}
.page-wizard .wizard-steps .step{
  flex:1 1 0; display:flex; align-items:center; gap:10px;
  padding:12px 14px; border-radius:12px; background:#fff; border:1px solid rgba(0,0,0,.08);
  min-width: 0;
}
.page-wizard .wizard-steps .step .step-index{
  width:28px; height:28px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center;
  background:#E6E7EA; color:#1E2233; font-weight:800; font-size:13px;
}
.page-wizard .wizard-steps .step .step-label{ font-weight:700; font-size:14px; color:#1E2233; min-width:0; }
.page-wizard .wizard-steps .step.is-active{ border-color: var(--taupe); box-shadow: var(--shadow); }
.page-wizard .wizard-steps .step.is-active .step-index{ background: var(--navy); color:#fff; }

/* Grille fournisseur */
.page-wizard .wizard-form .field-grid{
  display:grid; grid-template-columns: repeat(2, 1fr); gap:14px; border:0; margin:0; padding:0;
}
.page-wizard .wizard-form .fblock{ display:flex; flex-direction:column; gap:6px; min-width:0; }
.page-wizard .wizard-form .fblock.wide{ grid-column: 1 / -1 }
.page-wizard .wizard-form label{ font-weight:600 }
.page-wizard .wizard-form input[type="text"],
.page-wizard .wizard-form input[type="date"],
.page-wizard .wizard-form input[type="number"],
.page-wizard .wizard-form input[type="email"],
.page-wizard .wizard-form input[type="tel"],
.page-wizard .wizard-form select,
.page-wizard .wizard-form textarea{
  width:100%; height:40px; font-size:16px; /* anti-zoom iOS */
  padding:8px 12px; border-radius:12px; border:1px solid rgba(0,0,0,.12); outline:0; background:#fff;
  min-width:0;
}
.page-wizard .wizard-actions{
  display:flex; gap:10px; justify-content:flex-end; margin-top:16px; flex-wrap:wrap;
}
.page-wizard .wizard-actions .btn{ height:40px; }

/* Header Articles */
.page-wizard .articlesHeader{
  display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px; flex-wrap:wrap;
}
.page-wizard .articlesActions{ display:flex; gap:8px; flex-wrap:wrap; }
.page-wizard .articlesActions .btn{ height:36px; padding:8px 12px; font-size:13px }

/* Table articles ‚Äî wrapper de scroll */
.page-wizard .articlesWrap{
  overflow-x:auto; overflow-y:hidden; -webkit-overflow-scrolling:touch;
  border:1px solid rgba(0,0,0,.08); border-radius:12px; background:#fff;
  scrollbar-gutter: stable both-edges;
  padding-bottom: 6px; /* place pour la barre */
}

/* Table : large par d√©faut (scroll si besoin) */
.page-wizard #articlesTable{
  width:100%; min-width:820px; border-collapse:separate; border-spacing:0;
  table-layout:auto; /* colonnes adaptatives */
}
.page-wizard #articlesTable th, 
.page-wizard #articlesTable td{
  padding:10px 12px; text-align:left; white-space:nowrap; border-bottom:1px solid rgba(0,0,0,.06);
  vertical-align: middle;
}
.page-wizard #articlesTable thead th{ background:#F3F5FA; color:#1E2233; font-weight:700 }
.page-wizard #articlesTable tbody tr:last-child td{ border-bottom:none }

/* Inputs dans la table (compacts, stables) */
.page-wizard .cell-input{
  width:100%; display:flex; align-items:center; min-width:0;
}
.page-wizard .cell-input > input{
  width:100%; height:36px; font-size:16px; padding:6px 10px;
  border:1px solid rgba(0,0,0,.12); border-radius:10px; outline:0; background:#fff;
  min-width:0;
}
.page-wizard .cell-input > input[type="number"]{ text-align:right }

/* Bouton supprimer ligne */
.page-wizard .row-actions{ text-align:right; white-space:nowrap; }
.page-wizard .btn-danger{
  background:#E6E7EA; color:#1E2233; border:1px solid rgba(0,0,0,.12); border-radius:8px;
  padding:6px 10px; height:32px; font-weight:700; cursor:pointer;
}

/* Totaux */
.page-wizard .totals{
  display:flex; flex-direction:column; gap:8px; margin:14px 6px 4px; align-items:flex-end;
}
.page-wizard .totals .row{ display:flex; gap:16px; align-items:center; flex-wrap:wrap; }
.page-wizard .totals .row.total strong{ font-size:18px }

/* ---------- Scrollbar (optionnel, esth√©tique) ---------- */
.page-wizard .articlesWrap::-webkit-scrollbar{ height:8px }
.page-wizard .articlesWrap::-webkit-scrollbar-thumb{ background:rgba(0,0,0,.25); border-radius:8px }
.page-wizard .articlesWrap::-webkit-scrollbar-track{ background:rgba(0,0,0,.08) }

/* ============== BREAKPOINTS ============== */

/* ‚â§ 992px : confort tablette */
@media (max-width: 992px){
  .page-wizard .wizard-form .field-grid{ grid-template-columns: 1fr 1fr; }
  .page-wizard #articlesTable{ min-width: 720px; }
}

/* ‚â§ 768px : mobile, formulaires en 1 colonne */
@media (max-width: 768px){
  .page-wizard .wizard-form .field-grid{ grid-template-columns:1fr; gap:12px; }
  .page-wizard .wizard-actions{ justify-content: stretch; }
  .page-wizard .wizard-actions .btn{ flex:1 1 160px; }
  .page-wizard #articlesTable{ min-width: 640px; }
}

/* ‚â§ 560px : ULTRA MOBILE ‚Äî on COMPRESSE le texte du tableau */
@media (max-width: 560px){
  /* Le tableau prend 100% et autorise les retours √† la ligne */
  .page-wizard #articlesTable{
    min-width: 0;         /* cl√© : plus de largeur minimale rigide */
    width: 100%;
    table-layout: auto;
  }
  .page-wizard #articlesTable th,
  .page-wizard #articlesTable td{
    white-space: normal;   /* autorise retour √† la ligne */
    word-break: break-word;/* casse les mots longs */
    padding: 9px 10px;
    font-size: 13px;
  }
  .page-wizard .cell-input > input{
    height:34px; font-size:14px; padding:6px 8px;
  }
}

/* ‚â§ 380px : tr√®s petits √©crans */
@media (max-width: 380px){
  .page-wizard #articlesTable{ min-width: 0; } /* reste en mode compress√© */
  .page-wizard .wizard-steps .step{ flex: 1 1 100%; }
}
/* ============================================================
   STEP 3 ‚Äî Responsive upgrades (√† coller en bas de styles.css)
   Scope : body.page-wizard.step3
============================================================ */

/* S√©curit√©s anti-d√©bordements */
.page-wizard.step3 .content,
.page-wizard.step3 .content * { min-width: 0; }
.app { min-width: 0; }
img, svg, video { max-width: 100%; height: auto; }

/* --- Stepper : wrap propre --- */
.page-wizard.step3 .wizard-steps{
  display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap;
}
.page-wizard.step3 .wizard-steps .step{
  flex:1 1 220px;                 /* prend une largeur mini puis wrap */
  min-width: 0;
}

/* --- Cartes infos (Demandeur / Livraison / Fournisseur) --- */
.page-wizard.step3 .infoGrid{
  display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:12px;
}
.page-wizard.step3 .infoCard{ padding:16px 18px; }
.page-wizard.step3 .dl-like{ display:grid; gap:6px; }
.page-wizard.step3 .dl-like .dt{ font-weight:700; color:#1E2233; margin-right:6px; }
.page-wizard.step3 .dl-like .dd{ color:#475169; }

/* --- Tableau r√©cap : scroll horizontal confortable --- */
.page-wizard.step3 .tableWrap{
  width:100%;
  overflow-x:auto;                 /* üëâ scroll horizontal si besoin */
  overflow-y:hidden;
  -webkit-overflow-scrolling:touch;
  scrollbar-gutter:stable both-edges;
  padding-bottom:8px;
}
.page-wizard.step3 .tableCard{
  background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:12px;
  padding:0; overflow:visible;     /* pas de scroll imbriqu√© */
}
.page-wizard.step3 table.recapTable{
  width:100%;
  min-width: 640px;                /* large par d√©faut, scrolle si √©cran √©troit */
  border-collapse:separate; border-spacing:0; table-layout:auto;
}
.page-wizard.step3 table.recapTable th,
.page-wizard.step3 table.recapTable td{
  padding:12px 14px;
  text-align:left;
  white-space:nowrap;              /* lisible sur desktop */
  border-bottom:1px solid rgba(0,0,0,.06);
  font-size: clamp(12px, 1.2vw, 14px);  /* texte qui se compresse l√©g√®rement */
}
.page-wizard.step3 table.recapTable thead th{
  background:#F3F5FA; color:#1E2233; font-weight:700;
}
.page-wizard.step3 table.recapTable tbody tr:last-child td{ border-bottom:none; }

/* --- Bloc prix / actions --- */
.page-wizard.step3 .priceCard .priceRow{
  display:flex; align-items:center; justify-content:space-between; gap:10px; padding:6px 0;
}
.page-wizard.step3 .priceCard .priceRow.total{
  margin-top:6px; padding-top:10px; border-top:1px dashed rgba(0,0,0,.12);
  font-size: clamp(16px, 2.4vw, 18px); font-weight:800;
}
.page-wizard.step3 .wizard-actions{
  display:flex; gap:10px; justify-content:flex-end; margin-top:14px; flex-wrap:wrap;
}
.page-wizard.step3 .wizard-actions .btn,
.page-wizard.step3 .wizard-actions .btn-ghost{ height:40px; }

/* ==================== BREAKPOINTS ==================== */

/* ‚â§ 1100px : cartes infos en 2 colonnes */
@media (max-width:1100px){
  .page-wizard.step3 .infoGrid{ grid-template-columns: 1fr 1fr; }
}

/* ‚â§ 768px : cartes infos en 1 colonne, boutons adaptatifs,
   table un peu moins large pour r√©duire le scroll */
@media (max-width:768px){
  .page-wizard.step3 .infoGrid{ grid-template-columns: 1fr; }
  .page-wizard.step3 .wizard-actions{ justify-content:stretch; }
  .page-wizard.step3 .wizard-actions .btn,
  .page-wizard.step3 .wizard-actions .btn-ghost{ flex:1 1 160px; }
  .page-wizard.step3 table.recapTable{ min-width: 560px; }
}

/* ‚â§ 560px : ULTRA mobile ‚Üí le texte des cellules peut retourner √† la ligne,
   paddings r√©duits, titres un peu plus petits */
@media (max-width:560px){
  .page-wizard.step3 table.recapTable{
    min-width: 0;                   /* le tableau peut se caler √† 100% */
    width:100%; table-layout:auto;
  }
  .page-wizard.step3 table.recapTable th,
  .page-wizard.step3 table.recapTable td{
    white-space: normal;            /* üëâ le texte peut se couper / retourner */
    word-break: break-word;
    padding:10px 12px;
    font-size: 13px;
  }
  .page-wizard.step3 .infoCard{ padding:14px 12px; }
}

/* ‚â§ 380px : micro-√©crans */
@media (max-width:380px){
  .page-wizard.step3 .card-title{ font-size:15px; }
}

